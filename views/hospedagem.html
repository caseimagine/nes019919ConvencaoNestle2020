<h2 translate="Hospedagem"></h2>
<div ng-if="rootScopeUsuario.Order === 'S'">
    <p>Sua hospedagem é do tipo "single" (cama única)</p>
    <button class="btn btn-primary" ng-click="proximoPasso()">Pular para o próximo passo</button>
</div>
<div ng-if="rootScopeUsuario.ContagemAcompanhantes > 0">
    <p>Você já definiu seus acompanhantes</p>
    <button class="btn btn-primary" ng-click="proximoPasso()">Pular para o próximo passo</button>
</div>
{{rootScopeUsuario.Order}}
<form name="userForm" ng-submit="submitForm(userForm.$valid)"
    ng-if="rootScopeUsuario.Order !== 'S' && rootScopeUsuario.ContagemAcompanhantes === 0">
    <fieldset>
        <div class="form-group">
            <label for="{{'tipo-de-quarto-' + option.IdHotel}}">Tipo de quarto </label>
            <div class="radio" ng-repeat="option in hoteis">
                <pre>{{option | json }}</pre>
                <label>
                    <input type="radio" id="" name="{{'tipo-de-quarto-' + option.IdHotel}}"
                        ng-model="hospedagem.tipoDeQuarto" ng-value="option" ng-required="true" ng-change="checkRoommatesLimits()"> {{option.Nome}}
                </label>
            </div>
        </div>
        <h3 ng-if="hospedagem.tipoDeQuarto" translate="Acompanhantes">
            </h2>
            <div class="form-group"
                ng-if="hospedagem.tipoDeQuarto && ((hospedagem.tipoDeQuarto.Observacoes === 'TWIN' && roommatesArray.length < 1) || (hospedagem.tipoDeQuarto.Observacoes === 'TPL' && roommatesArray.length < 2))">
                <label for="{{'tipo-de-quarto-' + option.IdHotel}}">Adicionar acompanhante </label>
                <div class="input-group">
                    <input type="text" class="form-control" ng-model="roommateSap">
                    <span class="input-group-btn">
                        <button class="btn btn-link" type="button" ng-click="searchRoommate(roommateSap)"><i
                                class="glyphicon glyphicon-search" ng-if="!searchingRoommate" aria-hidden="true"></i><i
                                class="glyphicon glyphicon-refresh fa-spin" aria-hidden="true"
                                ng-if="searchingRoommate"></i></button>
                    </span>
                </div>
            </div>
            <div class="alert alert-primary text-center" ng-if="searchRoommateResultNothingFound">SAP não encontrado
            </div>
            <div class="alert alert-primary text-center" ng-if="roommateAlreadyExists">SAP já incluso</div>
            <div class="alert alert-primary text-center" ng-if="roommatesArrayFull">O número de acompanhantes excedeu a capacidade</div>
            

            <div ng-repeat="acompanhante in searchRoommateResult">
                <div class="alert alert-primary text-center"
                    ng-if="acompanhante.Order === 'S' || acompanhante.Titular > 0">{{acompanhante.Nome}} (<a
                        ng-href="{{'mailto:' + acompanhante.Email}}">{{acompanhante.Email}}</a>) já tem um quarto
                    definido</div>
                <div class="well clearfix" ng-if="acompanhante.Order !== 'S' && acompanhante.Titular === 0">
                    <pre>{{acompanhante | json}}</pre>
                    <p class="pull-left h4"><strong>{{acompanhante.Nome}}</strong></p>
                    <p><small><a ng-href="{{'mailto:' + acompanhante.Email}}">{{acompanhante.Email}}</a></small></p>
                    <div class="btn-group pull-right" role="group">
                        <button type="button" class="btn btn-primary"
                            ng-click="addRoommate(acompanhante)">Adicionar</button>
                    </div>
                </div>
            </div>

            <div ng-repeat="acompanhante in roommatesArray">
                <div class="well clearfix">

                    <pre>{{acompanhante | json}}</pre>
                    <p class="pull-left h4"><strong>{{acompanhante.Nome}}</strong></p>
                    <div class="btn-group pull-right" role="group">
                        <button type="button" class="btn btn-warning"
                            ng-click="removeRoommate(acompanhante)">Cancelar</button>
                    </div>
                </div>
            </div>
    </fieldset>
    <button type="submit" class="btn btn-primary" ng-disabled="submitting || userForm.$invalid">Enviar</button>
</form>